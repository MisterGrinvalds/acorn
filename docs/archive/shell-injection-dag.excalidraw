{
  "type": "excalidraw",
  "version": 2,
  "source": "claude-code",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 450,
      "y": 20,
      "width": 500,
      "height": 45,
      "text": "Shell Configuration Dependency Graph",
      "fontSize": 32,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0
    },
    {
      "id": "bootstrap",
      "type": "rectangle",
      "x": 500,
      "y": 80,
      "width": 200,
      "height": 50,
      "strokeColor": "#868e96",
      "backgroundColor": "#f8f9fa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "bootstrap-text",
      "type": "text",
      "x": 520,
      "y": 92,
      "width": 160,
      "height": 25,
      "text": "~/.bashrc | ~/.zshrc",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-boot-discovery",
      "type": "arrow",
      "x": 600,
      "y": 130,
      "width": 0,
      "height": 50,
      "strokeColor": "#1971c2",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 50]]
    },
    {
      "id": "discovery",
      "type": "rectangle",
      "x": 450,
      "y": 180,
      "width": 300,
      "height": 70,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "discovery-title",
      "type": "text",
      "x": 470,
      "y": 188,
      "width": 260,
      "height": 25,
      "text": "DISCOVERY (MUST BE FIRST)",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#c92a2a",
      "textAlign": "center"
    },
    {
      "id": "discovery-vars",
      "type": "text",
      "x": 470,
      "y": 215,
      "width": 260,
      "height": 30,
      "text": "$CURRENT_SHELL  $CURRENT_PLATFORM\n$IS_INTERACTIVE  $IS_LOGIN_SHELL",
      "fontSize": 11,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-discovery-xdg",
      "type": "arrow",
      "x": 600,
      "y": 250,
      "width": 0,
      "height": 50,
      "strokeColor": "#1971c2",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 50]]
    },
    {
      "id": "xdg",
      "type": "rectangle",
      "x": 450,
      "y": 300,
      "width": 300,
      "height": 70,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ebfbee",
      "fillStyle": "solid",
      "strokeWidth": 3,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "xdg-title",
      "type": "text",
      "x": 470,
      "y": 308,
      "width": 260,
      "height": 25,
      "text": "XDG DIRECTORIES",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#2f9e44",
      "textAlign": "center"
    },
    {
      "id": "xdg-vars",
      "type": "text",
      "x": 470,
      "y": 335,
      "width": 260,
      "height": 30,
      "text": "$DOTFILES_ROOT  $XDG_CONFIG_HOME\n$XDG_DATA_HOME  $XDG_CACHE_HOME",
      "fontSize": 11,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-xdg-left",
      "type": "arrow",
      "x": 500,
      "y": 370,
      "width": -150,
      "height": 80,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [-150, 80]]
    },
    {
      "id": "arrow-xdg-center",
      "type": "arrow",
      "x": 600,
      "y": 370,
      "width": 0,
      "height": 80,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 80]]
    },
    {
      "id": "arrow-xdg-right",
      "type": "arrow",
      "x": 700,
      "y": 370,
      "width": 150,
      "height": 80,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [150, 80]]
    },
    {
      "id": "environment",
      "type": "rectangle",
      "x": 200,
      "y": 450,
      "width": 200,
      "height": 60,
      "strokeColor": "#1971c2",
      "backgroundColor": "#e7f5ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "environment-title",
      "type": "text",
      "x": 220,
      "y": 458,
      "width": 160,
      "height": 20,
      "text": "ENVIRONMENT",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#1971c2",
      "textAlign": "center"
    },
    {
      "id": "environment-vars",
      "type": "text",
      "x": 220,
      "y": 480,
      "width": 160,
      "height": 25,
      "text": "PATH, EDITOR, LANG\n+ platform-specific",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "secrets",
      "type": "rectangle",
      "x": 500,
      "y": 450,
      "width": 200,
      "height": 60,
      "strokeColor": "#e8590c",
      "backgroundColor": "#fff4e6",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "secrets-title",
      "type": "text",
      "x": 520,
      "y": 458,
      "width": 160,
      "height": 20,
      "text": "SECRETS",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#e8590c",
      "textAlign": "center"
    },
    {
      "id": "secrets-vars",
      "type": "text",
      "x": 520,
      "y": 480,
      "width": 160,
      "height": 25,
      "text": "API keys, tokens\n(silent, no echo)",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "options",
      "type": "rectangle",
      "x": 800,
      "y": 450,
      "width": 200,
      "height": 60,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#f8f0fc",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "options-title",
      "type": "text",
      "x": 820,
      "y": 458,
      "width": 160,
      "height": 20,
      "text": "SHELL OPTIONS",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#9c36b5",
      "textAlign": "center"
    },
    {
      "id": "options-vars",
      "type": "text",
      "x": 820,
      "y": 480,
      "width": 160,
      "height": 25,
      "text": "shopt/setopt, HISTFILE\nuses $CURRENT_SHELL",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-env-aliases",
      "type": "arrow",
      "x": 300,
      "y": 510,
      "width": 0,
      "height": 60,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 60]]
    },
    {
      "id": "arrow-secrets-functions",
      "type": "arrow",
      "x": 600,
      "y": 510,
      "width": 0,
      "height": 140,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 140]]
    },
    {
      "id": "arrow-options-functions",
      "type": "arrow",
      "x": 900,
      "y": 510,
      "width": -200,
      "height": 140,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [-200, 140]]
    },
    {
      "id": "aliases",
      "type": "rectangle",
      "x": 200,
      "y": 570,
      "width": 200,
      "height": 60,
      "strokeColor": "#0c8599",
      "backgroundColor": "#e3fafc",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "aliases-title",
      "type": "text",
      "x": 220,
      "y": 578,
      "width": 160,
      "height": 20,
      "text": "ALIASES",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#0c8599",
      "textAlign": "center"
    },
    {
      "id": "aliases-desc",
      "type": "text",
      "x": 220,
      "y": 600,
      "width": 160,
      "height": 25,
      "text": "core, git, platform\nuses PATH from env",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-aliases-functions",
      "type": "arrow",
      "x": 400,
      "y": 600,
      "width": 100,
      "height": 50,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [100, 50]]
    },
    {
      "id": "functions",
      "type": "rectangle",
      "x": 450,
      "y": 650,
      "width": 300,
      "height": 80,
      "strokeColor": "#5c940d",
      "backgroundColor": "#f4fce3",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "functions-title",
      "type": "text",
      "x": 470,
      "y": 660,
      "width": 260,
      "height": 20,
      "text": "FUNCTIONS",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#5c940d",
      "textAlign": "center"
    },
    {
      "id": "functions-desc",
      "type": "text",
      "x": 470,
      "y": 685,
      "width": 260,
      "height": 40,
      "text": "core/ dev/ cloud/ ai/\nloaded from $DOTFILES_ROOT/functions/",
      "fontSize": 11,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-functions-left",
      "type": "arrow",
      "x": 500,
      "y": 730,
      "width": -100,
      "height": 60,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [-100, 60]]
    },
    {
      "id": "arrow-functions-right",
      "type": "arrow",
      "x": 700,
      "y": 730,
      "width": 100,
      "height": 60,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [100, 60]]
    },
    {
      "id": "completions",
      "type": "rectangle",
      "x": 300,
      "y": 790,
      "width": 200,
      "height": 60,
      "strokeColor": "#862e9c",
      "backgroundColor": "#f3d9fa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "completions-title",
      "type": "text",
      "x": 320,
      "y": 798,
      "width": 160,
      "height": 20,
      "text": "COMPLETIONS",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#862e9c",
      "textAlign": "center"
    },
    {
      "id": "completions-desc",
      "type": "text",
      "x": 320,
      "y": 820,
      "width": 160,
      "height": 25,
      "text": "bash-completion/compinit\nfor custom functions",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "prompt",
      "type": "rectangle",
      "x": 700,
      "y": 790,
      "width": 200,
      "height": 60,
      "strokeColor": "#e64980",
      "backgroundColor": "#fff0f6",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "prompt-title",
      "type": "text",
      "x": 720,
      "y": 798,
      "width": 160,
      "height": 20,
      "text": "PROMPT",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#e64980",
      "textAlign": "center"
    },
    {
      "id": "prompt-desc",
      "type": "text",
      "x": 720,
      "y": 820,
      "width": 160,
      "height": 25,
      "text": "PS1/PROMPT, git_branch\nuses $CURRENT_SHELL",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "arrow-completions-local",
      "type": "arrow",
      "x": 400,
      "y": 850,
      "width": 100,
      "height": 60,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [100, 60]]
    },
    {
      "id": "arrow-prompt-local",
      "type": "arrow",
      "x": 800,
      "y": 850,
      "width": -100,
      "height": 60,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "points": [[0, 0], [-100, 60]]
    },
    {
      "id": "local",
      "type": "rectangle",
      "x": 450,
      "y": 910,
      "width": 300,
      "height": 60,
      "strokeColor": "#fab005",
      "backgroundColor": "#fff9db",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "local-title",
      "type": "text",
      "x": 470,
      "y": 918,
      "width": 260,
      "height": 20,
      "text": "LOCAL OVERRIDES",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#fab005",
      "textAlign": "center"
    },
    {
      "id": "local-desc",
      "type": "text",
      "x": 470,
      "y": 943,
      "width": 260,
      "height": 20,
      "text": "~/.config/shell/local.sh (not in repo)",
      "fontSize": 11,
      "fontFamily": 3,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "app-configs",
      "type": "rectangle",
      "x": 950,
      "y": 570,
      "width": 180,
      "height": 80,
      "strokeColor": "#868e96",
      "backgroundColor": "#f1f3f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "roundness": { "type": 3 }
    },
    {
      "id": "app-configs-title",
      "type": "text",
      "x": 970,
      "y": 580,
      "width": 140,
      "height": 20,
      "text": "APP CONFIGS",
      "fontSize": 12,
      "fontFamily": 1,
      "strokeColor": "#495057",
      "textAlign": "center"
    },
    {
      "id": "app-configs-desc",
      "type": "text",
      "x": 970,
      "y": 605,
      "width": 140,
      "height": 40,
      "text": "git, ssh, python, R\n(symlinked from repo)\nindependent path",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#868e96",
      "textAlign": "center"
    },
    {
      "id": "arrow-xdg-appconfigs",
      "type": "arrow",
      "x": 750,
      "y": 340,
      "width": 200,
      "height": 230,
      "strokeColor": "#ced4da",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "points": [[0, 0], [200, 230]]
    },
    {
      "id": "note-discovery",
      "type": "text",
      "x": 760,
      "y": 200,
      "width": 250,
      "height": 40,
      "text": "Everything depends on knowing\nshell type and platform first!",
      "fontSize": 12,
      "fontFamily": 1,
      "strokeColor": "#c92a2a",
      "textAlign": "left"
    },
    {
      "id": "note-parallel",
      "type": "text",
      "x": 50,
      "y": 480,
      "width": 140,
      "height": 40,
      "text": "These three can\nrun in parallel",
      "fontSize": 11,
      "fontFamily": 1,
      "strokeColor": "#868e96",
      "textAlign": "center"
    },
    {
      "id": "parallel-bracket",
      "type": "line",
      "x": 180,
      "y": 450,
      "width": 0,
      "height": 130,
      "strokeColor": "#868e96",
      "strokeWidth": 2,
      "strokeStyle": "dashed",
      "points": [[0, 0], [0, 130]]
    },
    {
      "id": "note-functions",
      "type": "text",
      "x": 760,
      "y": 670,
      "width": 180,
      "height": 30,
      "text": "Functions must load\nbefore completions/prompt",
      "fontSize": 11,
      "fontFamily": 1,
      "strokeColor": "#5c940d",
      "textAlign": "left"
    },
    {
      "id": "why-box",
      "type": "rectangle",
      "x": 50,
      "y": 700,
      "width": 180,
      "height": 270,
      "strokeColor": "#868e96",
      "backgroundColor": "#ffffff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roundness": { "type": 3 }
    },
    {
      "id": "why-title",
      "type": "text",
      "x": 70,
      "y": 710,
      "width": 140,
      "height": 20,
      "text": "WHY THIS ORDER?",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#1e1e1e"
    },
    {
      "id": "why-content",
      "type": "text",
      "x": 60,
      "y": 740,
      "width": 160,
      "height": 220,
      "text": "1. Discovery first:\n   Can't configure zsh\n   like bash or vice versa\n\n2. XDG second:\n   Need to know where\n   files live before\n   loading them\n\n3. Secrets early:\n   Some env vars need\n   API keys to work\n\n4. Functions before\n   completions:\n   Need to complete\n   what's defined",
      "fontSize": 10,
      "fontFamily": 3,
      "strokeColor": "#495057"
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff",
    "gridSize": 20
  },
  "files": {}
}
