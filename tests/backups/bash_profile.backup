# Shell Profile - Compatible with bash and zsh
# Detect current shell for shell-specific configurations
if [ -n "$BASH_VERSION" ]; then
    export CURRENT_SHELL="bash"
elif [ -n "$ZSH_VERSION" ]; then
    export CURRENT_SHELL="zsh"
else
    export CURRENT_SHELL="unknown"
fi

# Load core environment variables first
if [ -f ~/.bash_profile.dir/environment.sh ]; then
    . ~/.bash_profile.dir/environment.sh
fi

# Load shell-agnostic configurations
if [ -f "$DOTFILES/.bash_profile.dir/aliases.sh" ]; then
    . "$DOTFILES/.bash_profile.dir/aliases.sh"
fi


if [ -f "$DOTFILES/.secure/.bash_profile.dir/secure.sh" ]; then
    . "$DOTFILES/.secure/.bash_profile.dir/secure.sh"
fi

# Load terminal configuration (shell-aware)
if [ -f "$DOTFILES/.bash_profile.dir/terminal.sh" ]; then
    . "$DOTFILES/.bash_profile.dir/terminal.sh"
fi

# Load custom tools and functions
for FILE in "$DOTFILES"/.bash_tools/*; do
    [ -r "$FILE" ] && . "$FILE"
done
